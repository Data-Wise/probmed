% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/methods-pmed.R
\name{pmed-formula}
\alias{pmed-formula}
\title{Compute P_med from Formula}
\arguments{
\item{object}{Formula for outcome model (Y ~ X + M + C)}

\item{formula_m}{Formula for mediator model (M ~ X + C)}

\item{data}{Data frame}

\item{treatment}{Character: treatment variable name}

\item{mediator}{Character: mediator variable name}

\item{family_y}{Family for outcome model (default: gaussian())}

\item{family_m}{Family for mediator model (default: gaussian())}

\item{x_ref}{Reference treatment value (default: 0)}

\item{x_value}{Treatment value (default: 1)}

\item{method}{Inference method: "parametric_bootstrap", "nonparametric_bootstrap", "plugin"}

\item{n_boot}{Number of bootstrap samples (default: 1000)}

\item{ci_level}{Confidence level (default: 0.95)}

\item{seed}{Random seed for reproducibility}

\item{...}{Additional arguments}
}
\value{
PmedResult object
}
\description{
Compute P_med from Formula
}
\examples{
# Toy example: Simple mediation model
# Generate data where X affects Y through M
set.seed(123)
n <- 100
data <- data.frame(
  X = rnorm(n),
  C = rnorm(n)
)
data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n, sd = 0.5)
data$Y <- 0.4 * data$M + 0.2 * data$X + 0.2 * data$C + rnorm(n, sd = 0.5)

# Compute P_med using plugin estimator (fast, no CI)
result_plugin <- pmed(
  Y ~ X + M + C,
  formula_m = M ~ X + C,
  data = data,
  treatment = "X",
  mediator = "M",
  method = "plugin"
)
print(result_plugin)

\donttest{
# With parametric bootstrap for confidence intervals
result_boot <- pmed(
  Y ~ X + M + C,
  formula_m = M ~ X + C,
  data = data,
  treatment = "X",
  mediator = "M",
  method = "parametric_bootstrap",
  n_boot = 200,  # Use more (e.g., 1000+) in practice
  seed = 456
)
print(result_boot)
}
}
