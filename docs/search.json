[{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"claudemd","dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md for probmed Package","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"about-this-package","dir":"","previous_headings":"","what":"About This Package","title":"CLAUDE.md for probmed Package","text":"probmed R package computing P_med, scale-free probabilistic effect size causal mediation analysis. P_med quantifies mediation effects probability counterfactual outcome treatment mediator control level exceeds counterfactual outcome control: P(Y_{x*,M_x} > Y_{x,M_x}).","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"core-mission","dir":"","previous_headings":"About This Package","what":"Core Mission","title":"CLAUDE.md for probmed Package","text":"Provide researchers scale-free, interpretable effect size measure mediation analysis works consistently across mixed variable types (binary, continuous) avoids limitations traditional mean-difference approaches. Methods accommodate simple complex mediation models maintaining accessibility applied practitioners.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"key-features","dir":"","previous_headings":"About This Package","what":"Key Features","title":"CLAUDE.md for probmed Package","text":"Scale-free interpretation: P_med ∈ [0, 1] clear probabilistic meaning regardless variable scales Flexible estimation: Works GLMs, SEM (via lavaan), fitted models Multiple mediators: Supports parallel sequential mediation structures Interactions: Handles exposure-mediator interactions conditioning Bootstrap inference: Parametric nonparametric bootstrap confidence intervals S7 OOP architecture: Modern, type-safe object system extensibility","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"key-references","dir":"","previous_headings":"About This Package","what":"Key References","title":"CLAUDE.md for probmed Package","text":"McGraw & Wong (1992): Common language effect size statistics (Psychological Bulletin) Vargha & Delaney (2000): Critique improvement CL effect sizes (Journal Educational Behavioral Statistics) Imai, Keele, & Tingley (2010): General approach causal mediation analysis (Psychological Methods) VanderWeele & Vansteelandt (2014): Mediation analysis multiple mediators (European Journal Epidemiology) Tofighi et al. (2025): P_med manuscript (target: Psychological Methods)","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"package-building-and-checking","dir":"","previous_headings":"Common Development Commands","what":"Package Building and Checking","title":"CLAUDE.md for probmed Package","text":"","code":"# Install package dependencies install.packages(c(\"remotes\", \"rcmdcheck\")) remotes::install_deps(dependencies = TRUE)  # Check package (standard R CMD check) rcmdcheck::rcmdcheck(args = \"--no-manual\", error_on = \"error\")  # Build package devtools::build()  # Install and reload package during development devtools::load_all()"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Common Development Commands","what":"Documentation","title":"CLAUDE.md for probmed Package","text":"","code":"# Generate documentation from roxygen2 comments devtools::document()  # Build PDF manual devtools::build_manual()  # Build pkgdown site pkgdown::build_site()"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"testing-and-linting","dir":"","previous_headings":"Common Development Commands","what":"Testing and Linting","title":"CLAUDE.md for probmed Package","text":"package uses GitHub Actions CI/CD workflows defined .github/workflows/: R-CMD-check.yaml: R package check multiple OS R versions test-coverage.yaml: Test coverage via covr pkgdown.yaml: Documentation website deployment","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"r-version-and-style","dir":"","previous_headings":"Coding Standards","what":"R Version and Style","title":"CLAUDE.md for probmed Package","text":"Minimum R version: 4.1.0 (native pipe |> support) OOP Framework: S7 (modern object system) Style: tidyverse style guide native pipe Roxygen2: Use roxygen2 documentation (>= 7.2.0) Clarity priority: Code must readable methodologists applied users","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"naming-conventions","dir":"","previous_headings":"Coding Standards","what":"Naming Conventions","title":"CLAUDE.md for probmed Package","text":"package uses snake_case consistently following tidyverse conventions: Functions: Main exports: pmed(), extract_mediation() S7 generics follow convention: extract_mediation(), pmed() Internal functions prefix dot: .pmed_core(), .pmed_parametric_boot() Arguments: formula_y, formula_m model specifications treatment, mediator, outcome variable names x_ref, x_value treatment contrast method inference method: “parametric_bootstrap”, “nonparametric_bootstrap”, “plugin” n_boot number bootstrap samples ci_level confidence level (default: 0.95) S7 Classes: CamelCase: MediationExtract, PmedResult Properties use snake_case: @a_path, @b_path, @ci_lower","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"code-organization","dir":"","previous_headings":"Coding Standards","what":"Code Organization","title":"CLAUDE.md for probmed Package","text":"","code":"R/ ├── aaa-imports.R           # Package imports and setup ├── classes.R               # S7 class definitions ├── generics.R              # S7 generic functions ├── methods-extract.R       # extract_mediation() methods ├── methods-pmed.R          # pmed() methods ├── methods-print.R         # print(), summary(), plot() methods ├── compute-core.R          # Core P_med computation ├── compute-bootstrap.R     # Bootstrap implementations └── utils.R                 # Utility functions"},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"s7-object-system","dir":"","previous_headings":"Code Architecture","what":"S7 Object System","title":"CLAUDE.md for probmed Package","text":"package uses S7 type-safe, modern object-oriented programming: Key S7 Classes: Properties: estimates, a_path, b_path, c_prime, vcov, data, etc. Validation rules ensure internal consistency Subclasses: MediationExtractLavaan lavaan-specific properties Properties: estimate, ci_lower, ci_upper, method, boot_estimates, etc. Validator checks P_med ∈ [0, 1] CI consistency Source tracking via source_extract property S7 Generics: Methods: stats::lm, lavaan, mediation, etc. Returns: MediationExtract object Methods: formula, MediationExtract Returns: PmedResult object","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"core-function-hierarchy","dir":"","previous_headings":"Code Architecture","what":"Core Function Hierarchy","title":"CLAUDE.md for probmed Package","text":"User-Facing Functions: Fits GLMs automatically Dispatches appropriate computation method Returns PmedResult CI pre-extracted structures flexible custom models Generic methods lm/glm, lavaan, mediation Standardizes across packages Returns MediationExtract Internal Computation Functions: .pmed_compute(): Main dispatcher .pmed_plugin(): Point estimate .pmed_parametric_boot(): Parametric bootstrap .pmed_nonparametric_boot(): Nonparametric bootstrap .pmed_core_simple(): Core P_med calculation","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"key-dependencies","dir":"","previous_headings":"Code Architecture","what":"Key Dependencies","title":"CLAUDE.md for probmed Package","text":"Required: S7: Modern object system stats: GLM fitting prediction methods: S3/S4 compatibility checks alabama: Constrained optimization (MBCO extensions) Suggested: MASS: mvrnorm() parametric bootstrap lavaan: SEM model support mediation: mediation package integration","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"explicit-namespacing","dir":"","previous_headings":"Code Architecture","what":"Explicit Namespacing","title":"CLAUDE.md for probmed Package","text":"CRITICAL: non-base functions MUST use explicit namespacing: prevents namespace conflicts makes dependencies explicit.","code":"# CORRECT stats::glm(formula, data = data) stats::coef(model) lavaan::sem(model, data = data) MASS::mvrnorm(n, mu, Sigma)  # INCORRECT glm(formula, data = data) coef(model) sem(model, data = data) mvrnorm(n, mu, Sigma)"},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"p_med-definition","dir":"","previous_headings":"Important Implementation Details","what":"P_med Definition","title":"CLAUDE.md for probmed Package","text":"treatment X, mediator M, outcome Y: Pmed=P(Yx*,Mx>Yx,Mx)P_{\\text{med}} = P(Y_{x^*, M_x} > Y_{x, M_x}) : Yx*,MxY_{x^*, M_x}: Outcome control (x*x^*) mediator treated level (MxM_x) Yx,MxY_{x, M_x}: Outcome treatment (xx) mediator treated level (MxM_x) Interpretation: Probability setting treatment control (keeping mediator treated level) increase outcome. Values > 0.5 indicate positive mediation.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"p_med-computation-methods","dir":"","previous_headings":"Important Implementation Details","what":"P_med Computation Methods","title":"CLAUDE.md for probmed Package","text":"1. Plugin Estimator (method = \"plugin\"): Point estimate , confidence interval Fast computation via Monte Carlo integration Use quick checks inference needed 2. Parametric Bootstrap (method = \"parametric_bootstrap\"): Samples multivariate normal parameter estimates Faster nonparametric; requires normality assumption Default applications Use: n_boot = 1000 (minimum), n_boot = 5000 (recommended) 3. Nonparametric Bootstrap (method = \"nonparametric_bootstrap\"): Resamples data refits models Robust parameter distribution assumptions Computationally intensive Use sample size adequate (n > 100) parametric assumptions questionable","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"bootstrap-implementation","dir":"","previous_headings":"Important Implementation Details","what":"Bootstrap Implementation","title":"CLAUDE.md for probmed Package","text":"bootstrap methods follow pattern: Parametric: Sample N(θ̂,Σ̂)N(\\hat{\\theta}, \\hat{\\Sigma}) Nonparametric: Resample data replacement Parametric: Use sampled parameters directly Nonparametric: Refit models, extract parameters, compute P_med CI: quantiles α/2\\alpha/2 1−α/21-\\alpha/2 Point estimate: mean median bootstrap distribution Full bootstrap distribution stored @boot_estimates Enables diagnostic plots summary statistics Memory considerations: Bootstrap distributions stored memory Large n_boot many parameters can consume substantial memory n_boot > 10000, consider saving disk streaming","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"handling-interactions","dir":"","previous_headings":"Important Implementation Details","what":"Handling Interactions","title":"CLAUDE.md for probmed Package","text":"exposure-mediator interactions present (X×MX \\times M outcome model): Conditioning approach: Options condition_on_x: Numeric value: Condition specific X level \"mean\": Marginalize X distribution Vector: Multiple conditioning values (returns list) Mathematical note: interactions, P_med becomes conditional X level, mediation effect varies treatment level.","code":"pmed(   Y ~ X + M + X:M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   condition_on_x = 0  # Evaluate P_med at X = 0 )"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"multiple-mediators","dir":"","previous_headings":"Important Implementation Details","what":"Multiple Mediators","title":"CLAUDE.md for probmed Package","text":"Parallel mediators (M1 M2 mediate X → Y): Sequential mediators (X → M1 → M2 → Y): Requires path-specific effect definition Currently development (Phase 3) use nested counterfactuals","code":"pmed(   formula_y = Y ~ X + M1 + M2 + C,   formula_m = list(     M1 ~ X + C,     M2 ~ X + C   ),   data = data,   treatment = \"X\",   mediator = c(\"M1\", \"M2\"),   effect = \"total\"  # Total indirect effect )"},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"key-assumptions","dir":"","previous_headings":"Statistical Assumptions & Diagnostics","what":"Key Assumptions","title":"CLAUDE.md for probmed Package","text":"Mediator model: E[M|X,C] correctly specified Outcome model: E[Y|X,M,C] correctly specified Misspecification biases P_med estimate {Yx,m,Mx}⟂X|C\\{Y_{x,m}, M_x\\} \\perp X | C (exposure-outcome) Yx,m⟂M|X,CY_{x,m} \\perp M | X, C (mediator-outcome) Yx,m⟂Mx*Y_{x,m} \\perp M_{x^*} (cross-world independence) untestable assumptions; require subject-matter knowledge (̂,b̂,ĉ′)∼N(θ,Σ)(\\hat{}, \\hat{b}, \\hat{c}') \\sim N(\\theta, \\Sigma) Generally reasonable large samples (CLT) Check Q-Q plots bootstrap samples GLM families must match data types Binary outcome: use family = binomial() Count outcome: use family = poisson()","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"diagnostics","dir":"","previous_headings":"Statistical Assumptions & Diagnostics","what":"Diagnostics","title":"CLAUDE.md for probmed Package","text":"Check bootstrap distribution: Warning signs: P_med outside [0, 1]: Model misspecification likely Highly skewed bootstrap distribution: Consider nonparametric bootstrap Wide CI relative estimate: Large uncertainty, increase sample size CI includes 0.5: conclude mediation direction","code":"result <- pmed(..., method = \"parametric_bootstrap\", n_boot = 1000)  # Plot bootstrap distribution plot(result)  # Summary statistics summary(result)  # Extract bootstrap samples for custom diagnostics boot_dist <- result@boot_estimates hist(boot_dist)"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"common-pitfalls","dir":"","previous_headings":"Statistical Assumptions & Diagnostics","what":"Common Pitfalls","title":"CLAUDE.md for probmed Package","text":"Ignoring confounders: Always adjust common causes M-Y Assuming causality association: P_med quantifies association, causation Misinterpreting P_med = 0.5: null (mediation), “50% mediation” Using plugin estimator inference: Plugin gives CI; always bootstrap Insufficient bootstrap samples: Use least n_boot = 1000, preferably 5000+","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"adding-new-extraction-methods","dir":"","previous_headings":"S7 Method Dispatch","what":"Adding New Extraction Methods","title":"CLAUDE.md for probmed Package","text":"add support new package (e.g., newpackage): Define S7 method: Add DESCRIPTION: Add conditional requirement check:","code":"#' Extract from newpackage #' #' @export S7::method(extract_mediation, newpackage::fitted_model) <- function(object,                                                                      treatment,                                                                      mediator,                                                                      data = NULL,                                                                      ...) {   # Extract parameters   params <- newpackage::get_params(object)      # Extract a, b, c' paths   a_path <- params[treatment, mediator]   b_path <- params[mediator, outcome]   c_prime <- params[treatment, outcome]      # Get variance-covariance matrix   vcov_mat <- newpackage::get_vcov(object)      # Return MediationExtract   MediationExtract(     estimates = params,     a_path = a_path,     b_path = b_path,     c_prime = c_prime,     vcov = vcov_mat,     data = data,     n_obs = newpackage::nobs(object),     source_package = \"newpackage\",     converged = newpackage::converged(object),     treatment = treatment,     mediator = mediator,     outcome = newpackage::get_outcome(object)   ) } Suggests:     newpackage if (!requireNamespace(\"newpackage\", quietly = TRUE)) {   stop(\"Package 'newpackage' needed. Install with: install.packages('newpackage')\") }"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"creating-new-s7-classes","dir":"","previous_headings":"S7 Method Dispatch","what":"Creating New S7 Classes","title":"CLAUDE.md for probmed Package","text":"extending functionality new classes:","code":"#' New Class for Extension #' #' @export NewClass <- S7::new_class(   \"NewClass\",   package = \"probmed\",   parent = MediationExtract,  # Inherit from base class      properties = list(     # New properties specific to this class     new_property = S7::class_numeric   ),      validator = function(self) {     # Validation logic     if (self@new_property < 0) {       \"new_property must be non-negative\"     }   } )"},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"unit-tests-should-cover","dir":"","previous_headings":"Testing Strategy","what":"Unit Tests Should Cover","title":"CLAUDE.md for probmed Package","text":"Compare hand-calculated examples Verify P_med ∈ [0, 1] Check symmetry properties Test known effect sizes Parametric vs nonparametric convergence large n_boot Reproducibility set.seed() CI coverage simulations (~95% 95% CI) Memory efficiency large n_boot Property type checking works Validators catch invalid inputs Class inheritance functions correctly Identical results lavaan object vs manual specification Correct extraction different model types Proper handling constrained parameters Error handling convergence failures Small sample sizes (n < 50) Near-zero mediation effects Perfect mediation (P_med ≈ 1) Suppression effects (P_med < 0.5) Missing data handling Singular covariance matrices Correct parsing formulas interactions Multiple mediators specification Interaction detection conditioning","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"test-organization","dir":"","previous_headings":"Testing Strategy","what":"Test Organization","title":"CLAUDE.md for probmed Package","text":"","code":"tests/ ├── testthat/ │   ├── test-classes.R           # S7 class validation │   ├── test-pmed-glm.R          # GLM interface │   ├── test-pmed-bootstrap.R    # Bootstrap methods │   ├── test-extract-lavaan.R    # lavaan extraction │   ├── test-interactions.R      # Interaction models │   ├── test-multiple.R          # Multiple mediators │   └── test-edge-cases.R        # Edge cases and errors └── manual/     └── validation-simulations.R  # Long-running validation"},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"coverage-expectations","dir":"","previous_headings":"Testing Strategy","what":"Coverage Expectations","title":"CLAUDE.md for probmed Package","text":"Target: >90% test coverage Critical paths: 100% coverage P_med computation core Bootstrap: Coverage assessment via simulation studies CI coverage: within ±2% nominal level simulations","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"p_med-definition-1","dir":"","previous_headings":"Key Mathematical Formulas","what":"P_med Definition","title":"CLAUDE.md for probmed Package","text":"Pmed=P(Yx*,Mx>Yx,Mx)=∫P(Yx*,Mx>Yx,Mx|C=c)dFC(c)P_{\\text{med}} = P(Y_{x^*, M_x} > Y_{x, M_x}) = \\int P(Y_{x^*, M_x} > Y_{x, M_x} | C=c) dF_C(c)","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"simple-mediation-linear-models","dir":"","previous_headings":"Key Mathematical Formulas","what":"Simple Mediation (Linear Models)","title":"CLAUDE.md for probmed Package","text":"linear outcome model Y=β0+β1X+β2M+β3C+ϵYY = \\beta_0 + \\beta_1 X + \\beta_2 M + \\beta_3 C + \\epsilon_Y: Pmed=Φ(ab(x−x*)σY2)P_{\\text{med}} = \\Phi\\left(\\frac{ab(x - x^*)}{\\sqrt{\\sigma^2_Y}}\\right) : aa = effect X M bb = effect M Y Φ\\Phi = standard normal CDF σY2\\sigma^2_Y = residual variance Y","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"approximate-standard-error-delta-method","dir":"","previous_headings":"Key Mathematical Formulas","what":"Approximate Standard Error (Delta Method)","title":"CLAUDE.md for probmed Package","text":"parametric bootstrap, standard error approximated via: SE(Pmed)≈Varθ̂[Pmed(θ̂)]SE(P_{\\text{med}}) \\approx \\sqrt{\\text{Var}_{\\hat{\\theta}}[P_{\\text{med}}(\\hat{\\theta})]} variance computed empirically bootstrap samples.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"with-interactions","dir":"","previous_headings":"Key Mathematical Formulas","what":"With Interactions","title":"CLAUDE.md for probmed Package","text":"Y=β0+β1X+β2M+β3XM+β4C+ϵY = \\beta_0 + \\beta_1 X + \\beta_2 M + \\beta_3 XM + \\beta_4 C + \\epsilon: Pmed(x0)=P(Yx*,Mx>Yx,Mx|X=x0)P_{\\text{med}}(x_0) = P(Y_{x^*, M_x} > Y_{x, M_x} | X = x_0) Conditioning value x0x_0 must specified; P_med varies treatment level.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"integration-with-medrobust-package","dir":"","previous_headings":"","what":"Integration with medrobust Package","title":"CLAUDE.md for probmed Package","text":"probmed package designed work seamlessly medrobust sensitivity analysis: medrobust provide: S7 method PmedResult class Sensitivity parameters: ρ (U → M, U → Y correlation) Tipping point analysis Visualization P_med confounding scenarios","code":"library(probmed) library(medrobust)  # Compute P_med result <- pmed(   Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\" )  # Sensitivity analysis for unmeasured confounding sens <- medrobust::sensitivity_analysis(   result,   rho_range = seq(-0.5, 0.5, by = 0.1) )  plot(sens)"},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"key-publications","dir":"","previous_headings":"Additional Resources","what":"Key Publications","title":"CLAUDE.md for probmed Package","text":"P_med Method: Tofighi et al. (2025). P_med: scale-free effect size mediation analysis. Psychological Methods. (preparation) Causal Mediation Framework: Imai, K., Keele, L., & Tingley, D. (2010). general approach causal mediation analysis. Psychological Methods, 15(4), 309–334. VanderWeele, T. J. (2015). Explanation Causal Inference: Methods Mediation Interaction. Oxford University Press. Pearl, J. (2001). Direct indirect effects. Proceedings UAI, 411–420. Scale-Free Effect Sizes: McGraw, K. O., & Wong, S. P. (1992). common language effect size statistic. Psychological Bulletin, 111(2), 361–365. Vargha, ., & Delaney, H. D. (2000). critique improvement CL common language effect size statistics McGraw Wong. Journal Educational Behavioral Statistics, 25(2), 101–132. Multiple Mediators: VanderWeele, T. J., & Vansteelandt, S. (2014). Mediation analysis multiple mediators. European Journal Epidemiology, 29(11), 801–810. Daniel, R. M., De Stavola, B. L., Cousens, S. N., & Vansteelandt, S. (2015). Causal mediation analysis multiple mediators. Biometrics, 71(1), 1–14. Sensitivity Analysis: Imai, K., Keele, L., & Yamamoto, T. (2010). Identification, inference sensitivity analysis causal mediation effects. Statistical Science, 25(1), 51–71. VanderWeele, T. J. (2010). Bias formulas sensitivity analysis direct indirect effects. Epidemiology, 21(4), 540–551.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"package-website","dir":"","previous_headings":"Additional Resources","what":"Package Website","title":"CLAUDE.md for probmed Package","text":"GitHub: https://github.com/data-wise/probmed Documentation: https://data-wise.github.io/probmed CRAN: (Upon release)","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"related-packages","dir":"","previous_headings":"Additional Resources","what":"Related Packages","title":"CLAUDE.md for probmed Package","text":"mediation: General mediation analysis (Tingley et al.) lavaan: Structural equation modeling (Rosseel) medflex: Natural effects models (Steen et al.) medrobust: Sensitivity analysis (Tofighi, companion package) RMediation: Confidence intervals indirect effects (Tofighi & MacKinnon)","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"phase-1-core-functionality-white_check_mark-complete","dir":"","previous_headings":"Development Roadmap","what":"Phase 1: Core Functionality ✅ COMPLETE","title":"CLAUDE.md for probmed Package","text":"S7 class architecture Formula interface GLM Bootstrap inference methods Basic extraction lm/glm Print/summary/plot methods","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"phase-2-model-integration-white_check_mark-complete-with-deferrals","dir":"","previous_headings":"Development Roadmap","what":"Phase 2: Model Integration ✅ COMPLETE (with deferrals)","title":"CLAUDE.md for probmed Package","text":"lavaan extraction mediation package extraction Indirect Effect (IE) reporting Comprehensive testing DEFERRED: medflex extraction (moved Phase 3)","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"phase-3-extensions-in-planning","dir":"","previous_headings":"Development Roadmap","what":"Phase 3: Extensions (In Planning)","title":"CLAUDE.md for probmed Package","text":"Exposure-mediator interactions Multiple parallel mediators Sequential mediators (path-specific) medflex integration (natural effects framework) Integration medrobust","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"phase-4-advanced-features-future","dir":"","previous_headings":"Development Roadmap","what":"Phase 4: Advanced Features (Future)","title":"CLAUDE.md for probmed Package","text":"Longitudinal mediation High-dimensional mediators Bayesian estimation (via Stan/JAGS) Multiply robust estimation Additional model fitting engines (see planning documents) medfit foundation package integration (see planning/three-package-ecosystem-strategy.md)","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"lavaan","dir":"","previous_headings":"Troubleshooting Integrations","what":"lavaan","title":"CLAUDE.md for probmed Package","text":"Error: “lavaan model converge”: Check model specification data. Try increasing iterations changing estimator. Error: “Can’t find method extract_mediation(S4)”: Ensure lavaan installed loaded. using package, ensure lavaan Suggests method registered .onLoad. Warning: “Variance-covariance matrix corresponds unstandardized estimates”: using standardized=TRUE, aware vcov matrix still unstandardized parameters. Bootstrap recommended inference standardized effects.","code":""},{"path":"https://data-wise.github.io/probmed/CLAUDE.html","id":"mediation","dir":"","previous_headings":"Troubleshooting Integrations","what":"mediation","title":"CLAUDE.md for probmed Package","text":"Error: “mediate object contain underlying models”: Ensure passed model objects mediate(). Note: probmed extracts underlying lm/glm models. mediate() run custom matrices inputs, extraction might fail.","code":""},{"path":"https://data-wise.github.io/probmed/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 probmed authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Introduction to probmed","text":"probmed package provides framework computing PmedP_{med}, scale-free probabilistic effect size causal mediation analysis. Unlike traditional effect sizes like “Proportion Mediated” (PMP_M), can unstable difficult interpret (especially inconsistent mediation non-linear models), PmedP_{med} offers clear probabilistic interpretation. PmedP_{med} defined probability outcome individual treatment group (Y(1)Y(1)) superior outcome individual control group (Y(0)Y(0)), specifically due indirect effect transmitted mediator (MM). Mathematically, treatment XX, mediator MM, outcome YY: Pmed=P(Y(1,M(1))>Y(0,M(0))) P_{med} = P(Y(1, M(1)) > Y(0, M(0))) direct effect XX YY held constant accounted , focusing purely mediation path. Key advantages: Scale-Free: depend units YY MM. Bounded: ranges 0 1 (0.5 effect contexts). Robust: works well linear generalized linear models (GLMs).","code":""},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"what-is-p_med","dir":"Articles","previous_headings":"","what":"What is PmedP_{med}?","title":"Introduction to probmed","text":"PmedP_{med} defined probability outcome individual treatment group (Y(1)Y(1)) superior outcome individual control group (Y(0)Y(0)), specifically due indirect effect transmitted mediator (MM). Mathematically, treatment XX, mediator MM, outcome YY: Pmed=P(Y(1,M(1))>Y(0,M(0))) P_{med} = P(Y(1, M(1)) > Y(0, M(0))) direct effect XX YY held constant accounted , focusing purely mediation path. Key advantages: Scale-Free: depend units YY MM. Bounded: ranges 0 1 (0.5 effect contexts). Robust: works well linear generalized linear models (GLMs).","code":""},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to probmed","text":"can install development version probmed GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"data-wise/probmed\")"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"basic-example-linear-mediation","dir":"Articles","previous_headings":"","what":"Basic Example: Linear Mediation","title":"Introduction to probmed","text":"Let’s demonstrate probmed simple linear mediation model. simulate data XX affects MM, XX MM affect YY. estimate PmedP_{med}, use pmed() function. need specify: outcome model formula (Y ~ ...). mediator model formula (formula_m = ...). names treatment mediator variables. use parametric bootstrap method inference, fast accurate standard models. can print summarize results. output shows estimated PmedP_{med} traditional Indirect Effect 95% confidence intervals. Understanding Output: PmedP_{med} Estimate: value significantly greater 0.50 indicates positive mediation effect. example, Pmed=0.56P_{med} = 0.56 means ’s 56% probability treated individual higher outcome control individual indirect path. Indirect Effect (IE): traditional product--coefficients (×ba \\times b) measure, useful comparing mediation analyses. Confidence Intervals: PmedP_{med} CI excludes 0.50, IE CI excludes 0, mediation effect statistically significant. Example output: can also get detailed summary including bootstrap distribution statistics: visualize bootstrap distribution:","code":"library(probmed)  set.seed(123) n <- 500  # Confounder / Covariate C <- rnorm(n)  # Treatment (Continuous) X <- rnorm(n)  # Mediator: M ~ X + C # Path a = 0.5 M <- 0.5 * X + 0.3 * C + rnorm(n)  # Outcome: Y ~ M + X + C # Path b = 0.4, Path c' = 0.2 Y <- 0.4 * M + 0.2 * X + 0.2 * C + rnorm(n)  data <- data.frame(X, M, Y, C) head(data) result <- pmed(     Y ~ X + M + C, # Outcome model     formula_m = M ~ X + C, # Mediator model     data = data,     treatment = \"X\",     mediator = \"M\",     method = \"parametric_bootstrap\",     n_boot = 1000, # Number of bootstrap samples     seed = 42 ) print(result) P_med: Probability of Mediated Shift ====================================  Estimate: 0.563 95% CI: [0.520, 0.605]  Indirect Effect (Product of Coefficients): Estimate: 0.198 95% CI: [0.134, 0.268]  Inference: parametric_bootstrap Bootstrap samples: 1000 summary(result) plot(result)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"simulate-data","dir":"Articles","previous_headings":"","what":"1. Simulate Data","title":"Introduction to probmed","text":"","code":"library(probmed)  set.seed(123) n <- 500  # Confounder / Covariate C <- rnorm(n)  # Treatment (Continuous) X <- rnorm(n)  # Mediator: M ~ X + C # Path a = 0.5 M <- 0.5 * X + 0.3 * C + rnorm(n)  # Outcome: Y ~ M + X + C # Path b = 0.4, Path c' = 0.2 Y <- 0.4 * M + 0.2 * X + 0.2 * C + rnorm(n)  data <- data.frame(X, M, Y, C) head(data)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"estimate-p_med","dir":"Articles","previous_headings":"","what":"2. Estimate PmedP_{med}","title":"Introduction to probmed","text":"estimate PmedP_{med}, use pmed() function. need specify: outcome model formula (Y ~ ...). mediator model formula (formula_m = ...). names treatment mediator variables. use parametric bootstrap method inference, fast accurate standard models.","code":"result <- pmed(     Y ~ X + M + C, # Outcome model     formula_m = M ~ X + C, # Mediator model     data = data,     treatment = \"X\",     mediator = \"M\",     method = \"parametric_bootstrap\",     n_boot = 1000, # Number of bootstrap samples     seed = 42 )"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"interpret-results","dir":"Articles","previous_headings":"","what":"3. Interpret Results","title":"Introduction to probmed","text":"can print summarize results. output shows estimated PmedP_{med} traditional Indirect Effect 95% confidence intervals. Understanding Output: PmedP_{med} Estimate: value significantly greater 0.50 indicates positive mediation effect. example, Pmed=0.56P_{med} = 0.56 means ’s 56% probability treated individual higher outcome control individual indirect path. Indirect Effect (IE): traditional product--coefficients (×ba \\times b) measure, useful comparing mediation analyses. Confidence Intervals: PmedP_{med} CI excludes 0.50, IE CI excludes 0, mediation effect statistically significant. Example output: can also get detailed summary including bootstrap distribution statistics: visualize bootstrap distribution:","code":"print(result) P_med: Probability of Mediated Shift ====================================  Estimate: 0.563 95% CI: [0.520, 0.605]  Indirect Effect (Product of Coefficients): Estimate: 0.198 95% CI: [0.134, 0.268]  Inference: parametric_bootstrap Bootstrap samples: 1000 summary(result) plot(result)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"advanced-example-binary-outcome-glm","dir":"Articles","previous_headings":"","what":"Advanced Example: Binary Outcome (GLM)","title":"Introduction to probmed","text":"probmed particularly valuable dealing non-linear models traditional coefficients different scales (e.g., logit scale binary outcomes). PmedP_{med} provides scale-free interpretation, Indirect Effect gives traditional measure comparison. Let’s look case binary outcome. simply specify family_y = binomial() tell probmed outcome model logistic regression. interpretation remains : PmedP_{med} probability outcome “better” (higher latent utility probability class) due mediation.","code":"set.seed(456) n <- 500 X <- rnorm(n) M <- 0.5 * X + rnorm(n)  # Outcome is binary (Logistic model) # logit(P(Y=1)) = 0.5*M + 0.2*X logits <- 0.5 * M + 0.2 * X probs <- 1 / (1 + exp(-logits)) Y_bin <- rbinom(n, 1, probs)  data_bin <- data.frame(X, M, Y_bin) result_bin <- pmed(     Y_bin ~ X + M,     formula_m = M ~ X,     data = data_bin,     family_y = binomial(), # Specify binomial family     treatment = \"X\",     mediator = \"M\",     method = \"parametric_bootstrap\",     n_boot = 1000,     seed = 42 )  print(result_bin)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"simulate-binary-data","dir":"Articles","previous_headings":"","what":"1. Simulate Binary Data","title":"Introduction to probmed","text":"","code":"set.seed(456) n <- 500 X <- rnorm(n) M <- 0.5 * X + rnorm(n)  # Outcome is binary (Logistic model) # logit(P(Y=1)) = 0.5*M + 0.2*X logits <- 0.5 * M + 0.2 * X probs <- 1 / (1 + exp(-logits)) Y_bin <- rbinom(n, 1, probs)  data_bin <- data.frame(X, M, Y_bin)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"estimate-with-glm","dir":"Articles","previous_headings":"","what":"2. Estimate with GLM","title":"Introduction to probmed","text":"simply specify family_y = binomial() tell probmed outcome model logistic regression. interpretation remains : PmedP_{med} probability outcome “better” (higher latent utility probability class) due mediation.","code":"result_bin <- pmed(     Y_bin ~ X + M,     formula_m = M ~ X,     data = data_bin,     family_y = binomial(), # Specify binomial family     treatment = \"X\",     mediator = \"M\",     method = \"parametric_bootstrap\",     n_boot = 1000,     seed = 42 )  print(result_bin)"},{"path":"https://data-wise.github.io/probmed/articles/introduction.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Introduction to probmed","text":"probmed package makes easy compute interpretable, scale-free effect sizes mediation analysis. Whether working simple linear models complex GLMs, PmedP_{med} provides unified metric understanding magnitude indirect effects.","code":""},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Working with lavaan Models","text":"Ensure probmed lavaan installed: Load packages:","code":"install.packages(\"lavaan\") # install.packages(\"probmed\") # Not on CRAN yet library(probmed) library(lavaan)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"simple-mediation-model","dir":"Articles","previous_headings":"","what":"Simple Mediation Model","title":"Working with lavaan Models","text":"Let’s start simple mediation model XX affects MM, XX MM affect YY. First, generate data consistent mediation process: specify model using lavaan syntax. Note don’t strictly need label parameters, ’s good practice. Use extract_mediation() convert lavaan object format probmed understands. need specify treatment mediator variables. outcome variable usually auto-detected, can specify explicitly needed. Now can compute PmedP_{med} using supported methods (plugin, parametric bootstrap, non-parametric bootstrap).","code":"set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.4 * M + 0.2 * X + rnorm(n) data <- data.frame(X = X, M = M, Y = Y) model <- '   # Mediator model   M ~ a*X      # Outcome model   Y ~ b*M + cp*X      # Variances (optional, lavaan adds them by default)   M ~~ M   Y ~~ Y '  fit <- sem(model, data = data) summary(fit) extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") print(extract) # Plugin estimator (fast, point estimate only) pmed(extract, method = \"plugin\")  # Parametric bootstrap (with confidence intervals) # Note: Increase n_boot for production use pmed(extract, method = \"parametric_bootstrap\", n_boot = 200, seed = 456)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"simulate-data","dir":"Articles","previous_headings":"","what":"1. Simulate Data","title":"Working with lavaan Models","text":"First, generate data consistent mediation process:","code":"set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.4 * M + 0.2 * X + rnorm(n) data <- data.frame(X = X, M = M, Y = Y)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"fit-model-with-lavaan","dir":"Articles","previous_headings":"","what":"2. Fit Model with lavaan","title":"Working with lavaan Models","text":"specify model using lavaan syntax. Note don’t strictly need label parameters, ’s good practice.","code":"model <- '   # Mediator model   M ~ a*X      # Outcome model   Y ~ b*M + cp*X      # Variances (optional, lavaan adds them by default)   M ~~ M   Y ~~ Y '  fit <- sem(model, data = data) summary(fit)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"extract-mediation-structure","dir":"Articles","previous_headings":"","what":"3. Extract Mediation Structure","title":"Working with lavaan Models","text":"Use extract_mediation() convert lavaan object format probmed understands. need specify treatment mediator variables. outcome variable usually auto-detected, can specify explicitly needed.","code":"extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") print(extract)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"compute-p_med","dir":"Articles","previous_headings":"","what":"4. Compute PmedP_{med}","title":"Working with lavaan Models","text":"Now can compute PmedP_{med} using supported methods (plugin, parametric bootstrap, non-parametric bootstrap).","code":"# Plugin estimator (fast, point estimate only) pmed(extract, method = \"plugin\")  # Parametric bootstrap (with confidence intervals) # Note: Increase n_boot for production use pmed(extract, method = \"parametric_bootstrap\", n_boot = 200, seed = 456)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"models-with-covariates","dir":"Articles","previous_headings":"","what":"Models with Covariates","title":"Working with lavaan Models","text":"probmed automatically handles covariates included lavaan model.","code":"# Add covariates C1 <- rnorm(n) C2 <- rnorm(n) data_cov <- data.frame(X = X, M = M, Y = Y, C1 = C1, C2 = C2)  # Model with covariates model_cov <- '   M ~ X + C1 + C2   Y ~ M + X + C1 + C2 '  fit_cov <- sem(model_cov, data = data_cov)  # Extract extract_cov <- extract_mediation(fit_cov, treatment = \"X\", mediator = \"M\")  # Compute P_med pmed(extract_cov, method = \"plugin\")"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"standardized-estimates","dir":"Articles","previous_headings":"","what":"Standardized Estimates","title":"Working with lavaan Models","text":"prefer use standardized estimates, can set standardized = TRUE extract_mediation(). Note affects interpretation path coefficients.","code":"extract_std <- extract_mediation(   fit,    treatment = \"X\",    mediator = \"M\",    standardized = TRUE )  print(extract_std)"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"troubleshooting","dir":"Articles","previous_headings":"","what":"Troubleshooting","title":"Working with lavaan Models","text":"probmed auto-detect outcome variable (e.g., multiple endogenous variables besides mediator), must specify explicitly: Ensure model actually contains paths M∼XM \\sim X, Y∼\\sim M, Y∼XY \\sim X. missing (e.g., fixed c′c' 0), extract_mediation() fail PmedP_{med} requires three paths (though c′c' can 0, must model structure handled 0). Currently, probmed expects direct effect Y∼XY \\sim X present model. omitted (assuming full mediation), can add fix 0 lavaan: Y ~ 0*X.","code":"extract_mediation(fit, treatment = \"X\", mediator = \"M\", outcome = \"Y\")"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"outcome-variable-not-found","dir":"Articles","previous_headings":"","what":"“Outcome variable not found”","title":"Working with lavaan Models","text":"probmed auto-detect outcome variable (e.g., multiple endogenous variables besides mediator), must specify explicitly:","code":"extract_mediation(fit, treatment = \"X\", mediator = \"M\", outcome = \"Y\")"},{"path":"https://data-wise.github.io/probmed/articles/lavaan-integration.html","id":"path-not-found","dir":"Articles","previous_headings":"","what":"“Path not found”","title":"Working with lavaan Models","text":"Ensure model actually contains paths M∼XM \\sim X, Y∼\\sim M, Y∼XY \\sim X. missing (e.g., fixed c′c' 0), extract_mediation() fail PmedP_{med} requires three paths (though c′c' can 0, must model structure handled 0). Currently, probmed expects direct effect Y∼XY \\sim X present model. omitted (assuming full mediation), can add fix 0 lavaan: Y ~ 0*X.","code":""},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Integration with the mediation Package","text":"Ensure probmed mediation installed: Load packages:","code":"install.packages(\"mediation\") # install.packages(\"probmed\") # Not on CRAN yet library(probmed) library(mediation)"},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Integration with the mediation Package","text":"workflow simple: 1. Fit mediator outcome models (using lm, glm, etc.). 2. Run mediation::mediate(). 3. Pass resulting object extract_mediation(). 4. Compute pmed().","code":"# Simulate data set.seed(123) n <- 100 data <- data.frame(X = rnorm(n), C = rnorm(n)) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n) data$Y <- 0.4 * data$M + 0.2 * data$X + 0.1 * data$C + rnorm(n)  # 1. Fit models model_m <- lm(M ~ X + C, data = data) model_y <- lm(Y ~ M + X + C, data = data)  # 2. Run mediate # We use boot=FALSE here for speed, but you can use bootstrap in mediate() med_out <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = FALSE) summary(med_out)  # 3. Extract mediation structure extract <- extract_mediation(med_out) print(extract)  # 4. Compute P_med pmed(extract, method = \"parametric_bootstrap\", n_boot = 200)"},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"example-linear-mediation","dir":"Articles","previous_headings":"","what":"Example: Linear Mediation","title":"Integration with the mediation Package","text":"","code":"# Simulate data set.seed(123) n <- 100 data <- data.frame(X = rnorm(n), C = rnorm(n)) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n) data$Y <- 0.4 * data$M + 0.2 * data$X + 0.1 * data$C + rnorm(n)  # 1. Fit models model_m <- lm(M ~ X + C, data = data) model_y <- lm(Y ~ M + X + C, data = data)  # 2. Run mediate # We use boot=FALSE here for speed, but you can use bootstrap in mediate() med_out <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = FALSE) summary(med_out)  # 3. Extract mediation structure extract <- extract_mediation(med_out) print(extract)  # 4. Compute P_med pmed(extract, method = \"parametric_bootstrap\", n_boot = 200)"},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"why-use-probmed-with-mediation","dir":"Articles","previous_headings":"","what":"Why use probmed with mediation?","title":"Integration with the mediation Package","text":"mediation package provides excellent tools estimating natural direct indirect effects (ADE ACME), probmed adds Probabilistic Index Mediation (PmedP_{med}). PmedP_{med} scale-free effect size represents probability outcome treated individual higher control individual, specifically due indirect path. complements raw effect estimates provided mediation.","code":""},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"supported-models","dir":"Articles","previous_headings":"","what":"Supported Models","title":"Integration with the mediation Package","text":"Since probmed extracts underlying lm glm objects mediate object, supports model type probmed supports (currently Linear Models Generalized Linear Models).","code":"# Simulate binary outcome data$Y_prob <- plogis(0.4 * data$M + 0.2 * data$X) data$Y_bin <- rbinom(n, 1, data$Y_prob)  # Fit models model_m <- lm(M ~ X + C, data = data) model_y <- glm(Y_bin ~ M + X + C, data = data, family = binomial)  # Run mediate med_out_bin <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = FALSE)  # Extract and compute P_med extract_bin <- extract_mediation(med_out_bin) pmed(extract_bin, method = \"parametric_bootstrap\", n_boot = 200)"},{"path":"https://data-wise.github.io/probmed/articles/mediation-integration.html","id":"example-binary-outcome-glm","dir":"Articles","previous_headings":"","what":"Example: Binary Outcome (GLM)","title":"Integration with the mediation Package","text":"","code":"# Simulate binary outcome data$Y_prob <- plogis(0.4 * data$M + 0.2 * data$X) data$Y_bin <- rbinom(n, 1, data$Y_prob)  # Fit models model_m <- lm(M ~ X + C, data = data) model_y <- glm(Y_bin ~ M + X + C, data = data, family = binomial)  # Run mediate med_out_bin <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = FALSE)  # Extract and compute P_med extract_bin <- extract_mediation(med_out_bin) pmed(extract_bin, method = \"parametric_bootstrap\", n_boot = 200)"},{"path":[]},{"path":"https://data-wise.github.io/probmed/articles/package-comparison.html","id":"workflow-1-base-r-lmglm","dir":"Articles","previous_headings":"","what":"Workflow 1: Base R (lm/glm)","title":"Comparing probmed Workflows","text":"direct method. fit two separate models: one mediator one outcome. Pros: * extra dependencies. * Full control model specification. Cons: * Requires managing two model objects. * Manual handling missing data consistency.","code":"library(probmed)  # Simulate data set.seed(123) n <- 100 data <- data.frame(X = rnorm(n)) data$M <- 0.5 * data$X + rnorm(n) data$Y <- 0.4 * data$M + 0.2 * data$X + rnorm(n)  # Fit models model_m <- lm(M ~ X, data = data) model_y <- lm(Y ~ M + X, data = data)  # Extract and compute extract <- extract_mediation(model_m, model_y = model_y, treatment = \"X\", mediator = \"M\") pmed(extract)"},{"path":"https://data-wise.github.io/probmed/articles/package-comparison.html","id":"workflow-2-lavaan","dir":"Articles","previous_headings":"","what":"Workflow 2: lavaan","title":"Comparing probmed Workflows","text":"Ideal users familiar SEM dealing latent variables FIML. Pros: * Single model specification. * Handles FIML missing data. * Supports latent variables (though probmed currently requires observed data bootstrapping). Cons: * Requires lavaan package. * Syntax different standard R formulas.","code":"library(lavaan)  model <- '   M ~ a*X   Y ~ b*M + cp*X '  fit <- sem(model, data = data)  extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") pmed(extract)"},{"path":"https://data-wise.github.io/probmed/articles/package-comparison.html","id":"workflow-3-mediation","dir":"Articles","previous_headings":"","what":"Workflow 3: mediation","title":"Comparing probmed Workflows","text":"use mediation package specific features (like sensitivity analysis), can easily pipe results probmed. Pros: * Seamless integration mediation workflow. * Automatic variable detection. Cons: * Requires mediation package. * Limited models supported mediate().","code":"library(mediation)  med_out <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\")  extract <- extract_mediation(med_out) pmed(extract)"},{"path":"https://data-wise.github.io/probmed/articles/package-comparison.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Comparing probmed Workflows","text":"Choose workflow best fits existing analysis pipeline. probmed ensures regardless input method, calculation PmedP_{med} remains consistent robust.","code":""},{"path":"https://data-wise.github.io/probmed/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Davood Tofighi. Author, maintainer.","code":""},{"path":"https://data-wise.github.io/probmed/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tofighi D (2025). probmed: Probabilistic Effect Sizes Causal Mediation Analysis. R package version 0.0.0.9000, https://data-wise.github.io/probmed/.","code":"@Manual{,   title = {probmed: Probabilistic Effect Sizes for Causal Mediation Analysis},   author = {Davood Tofighi},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://data-wise.github.io/probmed/}, }"},{"path":"https://data-wise.github.io/probmed/index.html","id":"probmed-","dir":"","previous_headings":"","what":"probmed: Probabilistic Effect Sizes for Mediation","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"probmed provides robust framework computing PmedP_{med}, scale-free probabilistic effect size causal mediation analysis.","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"what-is-p_med","dir":"","previous_headings":"","what":"What is PmedP_{med}?","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"PmedP_{med} offers intuitive alternative traditional mediation effect sizes. represents probability outcome individual treatment group higher outcome individual control group, specifically due indirect path mediator. Unlike “Proportion Mediated” simple indirect effect coefficients, PmedP_{med}: * Scale-Free: Interpretable regardless units measurement XX, MM, YY. * Bounded: Always falls 0 1 (0 0.5 definitions), making comparable across studies. * Handles Non-Linearity: Can extended Generalized Linear Models (GLMs) coefficients directly comparable.","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"Flexible Modeling: Supports Linear Models (LM) Generalized Linear Models (GLM) (e.g., Logistic, Poisson) mediator outcome. Comprehensive Effect Reporting: Provides PmedP_{med} (probabilistic effect size) traditional Indirect Effect (×ba \\times b) bootstrap confidence intervals. Parametric Bootstrap: Efficient accurate large samples known distributions. Nonparametric Bootstrap: Robust distributional assumptions (resampling-based). Plug-Estimator: Fast point estimation. Modern Architecture: Built S7 object-oriented system, ensuring type safety, stability, easy extensibility. lavaan: Extract Structural Equation Models FIML robust estimators mediation: Direct integration mediate() objects Standard lm/glm: Native support regression models User-Friendly Interface: Designed work standard R formula interfaces data.frame inputs.","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"can install development version probmed GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"data-wise/probmed\")"},{"path":"https://data-wise.github.io/probmed/index.html","id":"quick-example","dir":"","previous_headings":"","what":"Quick Example","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"basic example showing simulate data compute PmedP_{med} using parametric bootstrap approach.","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_1-simulate-data","dir":"","previous_headings":"Quick Example","what":"1. Simulate Data","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"First, generate dataset continuous treatment (XX), mediator (MM), outcome (YY), along covariate (CC).","code":"library(probmed)  set.seed(123) n <- 300 data <- data.frame(X = rnorm(n), C = rnorm(n))  # Mediator model: M ~ X + C data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n)  # Outcome model: Y ~ M + X + C data$Y <- 0.4 * data$M + 0.2 * data$X + 0.2 * data$C + rnorm(n)"},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_2-compute-p_med","dir":"","previous_headings":"Quick Example","what":"2. Compute PmedP_{med}","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"use pmed() function estimate effect size. specify models outcome mediator, select bootstrap method.","code":"result <- pmed(   Y ~ X + M + C,             # Outcome model formula   formula_m = M ~ X + C,     # Mediator model formula   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\",   n_boot = 1000,   seed = 42 )"},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_3-view-results","dir":"","previous_headings":"Quick Example","what":"3. View Results","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"results object provides clear summary PmedP_{med} Indirect Effect confidence intervals. Interpretation: - PmedP_{med} = 0.563: 56.3% probability treated individual higher outcome control individual indirect path. Since 0.50 represents “effect” (random chance), indicates positive mediation effect. - Indirect Effect = 0.198: traditional product--coefficients indirect effect (×ba \\times b) quantifies average change outcome due mediated path.","code":"print(result) #> #> P_med: Probability of Mediated Shift #> ==================================== #> #> Estimate: 0.563 #> 95% CI: [0.520, 0.605] #> #> Indirect Effect (Product of Coefficients): #> Estimate: 0.198 #> 95% CI: [0.134, 0.268] #> #> Inference: parametric_bootstrap #> Bootstrap samples: 1000 #> #> Treatment contrast: X = 1 vs. X* = 0 #> #> Interpretation: #>   P(Y_{X*, M_X} > Y_{X, M_X}) = 0.563  summary(result)"},{"path":"https://data-wise.github.io/probmed/index.html","id":"workflow-options","dir":"","previous_headings":"","what":"Workflow Options","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"probmed offers three workflow approaches suit needs:","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_1-formula-interface-recommended-for-most-users","dir":"","previous_headings":"Workflow Options","what":"1. Formula Interface (Recommended for Most Users)","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"Directly specify models using R formulas:","code":"result <- pmed(   Y ~ X + M + C,             # Outcome model   formula_m = M ~ X + C,     # Mediator model   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\" )"},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_2-integration-with-lavaan-for-sem-users","dir":"","previous_headings":"Workflow Options","what":"2. Integration with lavaan (For SEM Users)","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"Extract fitted Structural Equation Models full support FIML, robust estimators, standardized estimates:","code":"library(lavaan)  # Define SEM model model <- '   M ~ a*X + C   Y ~ b*M + cp*X + C '  # Fit with FIML for missing data fit <- sem(model, data = data, missing = \"fiml\")  # Extract and compute P_med extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") result <- pmed(extract, method = \"parametric_bootstrap\", n_boot = 5000) print(result)"},{"path":"https://data-wise.github.io/probmed/index.html","id":"id_3-integration-with-mediation-package","dir":"","previous_headings":"Workflow Options","what":"3. Integration with mediation Package","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"Seamlessly work objects mediation package:","code":"library(mediation)  # Fit models model_m <- lm(M ~ X + C, data = data) model_y <- lm(Y ~ M + X + C, data = data)  # Run mediate med_out <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = TRUE)  # Compute P_med from mediate object result <- pmed(extract_mediation(med_out)) print(result)"},{"path":[]},{"path":"https://data-wise.github.io/probmed/index.html","id":"generalized-linear-models-glms","dir":"","previous_headings":"Advanced Features","what":"Generalized Linear Models (GLMs)","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"probmed supports GLMs non-normal outcomes. example, binary outcome:","code":"# Binary outcome example data_bin <- data data_bin$Y_binary <- rbinom(n, 1, plogis(0.4 * data$M + 0.2 * data$X))  result_bin <- pmed(   Y_binary ~ X + M + C,   formula_m = M ~ X + C,   data = data_bin,   family_y = binomial(),    # Logistic regression for binary outcome   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\",   n_boot = 1000 ) print(result_bin)"},{"path":"https://data-wise.github.io/probmed/index.html","id":"bootstrap-methods-comparison","dir":"","previous_headings":"Advanced Features","what":"Bootstrap Methods Comparison","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"use method: Plugin (method = \"plugin\"): Fast point estimates , confidence intervals. Use quick exploration. Parametric Bootstrap (method = \"parametric_bootstrap\"): Default choice. Fast accurate parameter estimates approximately normally distributed. Nonparametric Bootstrap (method = \"nonparametric_bootstrap\"): robust distributional assumptions computationally intensive. Use parametric assumptions questionable.","code":"# Compare methods result_plugin <- pmed(Y ~ X + M, formula_m = M ~ X, data = data,                       treatment = \"X\", mediator = \"M\", method = \"plugin\")  result_param <- pmed(Y ~ X + M, formula_m = M ~ X, data = data,                      treatment = \"X\", mediator = \"M\",                      method = \"parametric_bootstrap\", n_boot = 1000)  result_nonparam <- pmed(Y ~ X + M, formula_m = M ~ X, data = data,                         treatment = \"X\", mediator = \"M\",                         method = \"nonparametric_bootstrap\", n_boot = 1000)"},{"path":"https://data-wise.github.io/probmed/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"Tofighi, D. (Press). Probabilistic Effect Sizes Mediation Analysis. MacKinnon, D. P. (2008). Introduction Statistical Mediation Analysis. Lawrence Erlbaum Associates.","code":""},{"path":"https://data-wise.github.io/probmed/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"probmed: Probabilistic Effect Sizes for Mediation","text":"welcome contributions! Please see Issue Tracker potential features bug reports.","code":""},{"path":"https://data-wise.github.io/probmed/reference/MediationExtract.html","id":null,"dir":"Reference","previous_headings":"","what":"Mediation Extract Base Class — MediationExtract","title":"Mediation Extract Base Class — MediationExtract","text":"S7 class extracted mediation structures fitted models.","code":""},{"path":"https://data-wise.github.io/probmed/reference/MediationExtract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mediation Extract Base Class — MediationExtract","text":"","code":"MediationExtract(   estimates = integer(0),   mediator_predictors = character(0),   outcome_predictors = character(0),   a_path = integer(0),   b_path = integer(0),   c_prime = integer(0),   vcov = NULL,   sigma_m = integer(0),   sigma_y = integer(0),   data = NULL,   n_obs = integer(0),   source_package = character(0),   converged = logical(0),   treatment = character(0),   mediator = character(0),   outcome = character(0) )"},{"path":"https://data-wise.github.io/probmed/reference/MediationExtract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mediation Extract Base Class — MediationExtract","text":"estimates Numeric vector model parameter estimates mediator_predictors Character vector mediator model predictor names outcome_predictors Character vector outcome model predictor names a_path Numeric: treatment effect mediator (path) b_path Numeric: mediator effect outcome (b path) c_prime Numeric: direct effect treatment outcome (c' path) vcov Variance-covariance matrix parameter estimates sigma_m Numeric: residual standard deviation mediator model sigma_y Numeric: residual standard deviation outcome model data Data frame used model fitting n_obs Integer: number observations source_package Character: name package created models converged Logical: model(s) converge treatment Character: name treatment variable mediator Character: name mediator variable outcome Character: name outcome variable","code":""},{"path":"https://data-wise.github.io/probmed/reference/PmedResult.html","id":null,"dir":"Reference","previous_headings":"","what":"P_med Result Class — PmedResult","title":"P_med Result Class — PmedResult","text":"S7 class P_med computation results.","code":""},{"path":"https://data-wise.github.io/probmed/reference/PmedResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"P_med Result Class — PmedResult","text":"","code":"PmedResult(   estimate = integer(0),   ci_lower = integer(0),   ci_upper = integer(0),   ci_level = integer(0),   method = character(0),   n_boot = NA_integer_,   boot_estimates = numeric(0),   ie_estimate = NA_real_,   ie_ci_lower = NA_real_,   ie_ci_upper = NA_real_,   ie_boot_estimates = numeric(0),   x_ref = integer(0),   x_value = integer(0),   source_extract = MediationExtract(),   converged = logical(0),   call = NULL )"},{"path":"https://data-wise.github.io/probmed/reference/PmedResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"P_med Result Class — PmedResult","text":"estimate Numeric: P_med point estimate ci_lower Numeric: lower bound confidence interval ci_upper Numeric: upper bound confidence interval ci_level Numeric: confidence level (e.g., 0.95) method Character: inference method used n_boot Integer: number bootstrap samples (NA bootstrap) boot_estimates Numeric vector: bootstrap distribution (empty bootstrap) ie_estimate Numeric: Indirect Effect (NIE) point estimate ie_ci_lower Numeric: lower bound NIE confidence interval ie_ci_upper Numeric: upper bound NIE confidence interval ie_boot_estimates Numeric vector: bootstrap distribution NIE x_ref Numeric: reference treatment value x_value Numeric: treatment value contrast source_extract MediationExtract object: source estimates converged Logical: computation converge call Call object: original function call","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_compute.html","id":null,"dir":"Reference","previous_headings":"","what":"Core P_med Computation Dispatcher — .pmed_compute","title":"Core P_med Computation Dispatcher — .pmed_compute","text":"Core P_med Computation Dispatcher","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_compute.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Core P_med Computation Dispatcher — .pmed_compute","text":"","code":".pmed_compute(extract, x_ref, x_value, method, n_boot, ci_level, seed, ...)"},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_core_simple.html","id":null,"dir":"Reference","previous_headings":"","what":"Simple P_med Core Computation — .pmed_core_simple","title":"Simple P_med Core Computation — .pmed_core_simple","text":"Simple P_med Core Computation","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_core_simple.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simple P_med Core Computation — .pmed_core_simple","text":"","code":".pmed_core_simple(   a,   b,   c_prime,   x_ref,   x_value,   sigma_y = 1,   sigma_m = 1,   n_sim = 10000 )"},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_nonparametric_boot.html","id":null,"dir":"Reference","previous_headings":"","what":"Nonparametric Bootstrap for P_med — .pmed_nonparametric_boot","title":"Nonparametric Bootstrap for P_med — .pmed_nonparametric_boot","text":"Nonparametric Bootstrap P_med","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_nonparametric_boot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nonparametric Bootstrap for P_med — .pmed_nonparametric_boot","text":"","code":".pmed_nonparametric_boot(extract, x_ref, x_value, n_boot, ci_level, seed, ...)"},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_parametric_boot.html","id":null,"dir":"Reference","previous_headings":"","what":"Parametric Bootstrap for P_med — .pmed_parametric_boot","title":"Parametric Bootstrap for P_med — .pmed_parametric_boot","text":"Parametric Bootstrap P_med","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_parametric_boot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parametric Bootstrap for P_med — .pmed_parametric_boot","text":"","code":".pmed_parametric_boot(extract, x_ref, x_value, n_boot, ci_level, seed, ...)"},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_plugin.html","id":null,"dir":"Reference","previous_headings":"","what":"Plugin Estimator (Point Estimate Only) — .pmed_plugin","title":"Plugin Estimator (Point Estimate Only) — .pmed_plugin","text":"Plugin Estimator (Point Estimate )","code":""},{"path":"https://data-wise.github.io/probmed/reference/dot-pmed_plugin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plugin Estimator (Point Estimate Only) — .pmed_plugin","text":"","code":".pmed_plugin(extract, x_ref, x_value, n_sim = 10000, ...)"},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation-lm.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract from GLM/LM — extract_mediation-lm","title":"Extract from GLM/LM — extract_mediation-lm","text":"Extract GLM/LM","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation-mediate.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure from mediate Objects — extract_mediation-mediate","title":"Extract Mediation Structure from mediate Objects — extract_mediation-mediate","text":"Extract mediation structure objects produced mediation package. method extracts underlying lm glm models delegates corresponding extraction methods.","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation-mediate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure from mediate Objects — extract_mediation-mediate","text":"object mediate object. ... Additional arguments passed underlying extraction method.","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation-mediate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure from mediate Objects — extract_mediation-mediate","text":"MediationExtract object.","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation-mediate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure from mediate Objects — extract_mediation-mediate","text":"","code":"if (FALSE) { # \\dontrun{ if (requireNamespace(\"mediation\", quietly = TRUE)) {     library(mediation)      # Generate data     set.seed(123)     n <- 100     data <- data.frame(X = rnorm(n), C = rnorm(n))     data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n)     data$Y <- 0.4 * data$M + 0.2 * data$X + 0.1 * data$C + rnorm(n)      # Fit models     model_m <- lm(M ~ X + C, data = data)     model_y <- lm(Y ~ M + X + C, data = data)      # Run mediate     med_out <- mediate(model_m, model_y, treat = \"X\", mediator = \"M\", boot = FALSE)      # Extract     extract <- extract_mediation(med_out)      # Compute P_med     pmed(extract) } } # }"},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure — extract_mediation","title":"Extract Mediation Structure — extract_mediation","text":"Generic function extract mediation structure (, b, c' paths variance-covariance matrices) fitted models. Supports multiple model types including lm/glm, lavaan SEM objects, mediation package objects.","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Mediation Structure — extract_mediation","text":"","code":"extract_mediation(object, ...)"},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure — extract_mediation","text":"object Fitted model object (lm, glm, lavaan, mediate) ... Additional arguments passed methods. Common arguments include: treatment: Character name treatment variable mediator: Character name mediator variable outcome: Character name outcome variable (auto-detected lavaan) model_y: Outcome model (lm/glm methods) data: Data frame (lm/glm methods)","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure — extract_mediation","text":"MediationExtract object containing: Path coefficients (, b, c') Variance-covariance matrix Residual standard deviations Variable names metadata","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure — extract_mediation","text":"","code":"# Example 1: Extract from lm objects set.seed(123) data <- data.frame(X = rnorm(100), C = rnorm(100)) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(100) data$Y <- 0.4 * data$M + 0.2 * data$X + rnorm(100)  model_m <- lm(M ~ X + C, data = data) model_y <- lm(Y ~ M + X + C, data = data) extract <- extract_mediation(model_m, model_y = model_y,                               treatment = \"X\", mediator = \"M\", data = data) print(extract) #> <probmed::MediationExtract> #>  @ estimates          : Named num [1:7] 0.1351 0.3668 0.3238 -0.0193 0.3426 ... #>  .. - attr(*, \"names\")= chr [1:7] \"(Intercept)\" \"X\" \"C\" \"(Intercept)\" ... #>  @ mediator_predictors: chr [1:3] \"(Intercept)\" \"X\" \"C\" #>  @ outcome_predictors : chr [1:4] \"(Intercept)\" \"M\" \"X\" \"C\" #>  @ a_path             : num 0.367 #>  @ b_path             : num 0.343 #>  @ c_prime            : num 0.173 #>  @ vcov               : num [1:7, 1:7] 0.009243 -0.000939 0.001007 0 0 ... #>  @ sigma_m            : num 0.951 #>  @ sigma_y            : num 1.05 #>  @ data               :'data.frame':\t100 obs. of  4 variables: #>  .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. $ C: num  -0.71 0.257 -0.247 -0.348 -0.952 ... #>  .. $ M: num  1.705 1.274 0.44 0.474 -0.635 ... #>  .. $ Y: num  -0.145 -0.289 -0.451 -0.849 -0.665 ... #>  @ n_obs              : int 100 #>  @ source_package     : chr \"stats\" #>  @ converged          : logi TRUE #>  @ treatment          : chr \"X\" #>  @ mediator           : chr \"M\" #>  @ outcome            : chr \"Y\"  # \\donttest{ # Example 2: Extract from lavaan if (requireNamespace(\"lavaan\", quietly = TRUE)) {   library(lavaan)   model <- 'M ~ a*X + C             Y ~ b*M + cp*X + C'   fit <- sem(model, data = data)   extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\")   print(extract) } #> This is lavaan 0.6-20 #> lavaan is FREE software! Please report any bugs. #> <probmed::MediationExtract> #>  @ estimates          : Named num [1:3] 0.367 0.343 0.173 #>  .. - attr(*, \"names\")= chr [1:3] \"a\" \"b\" \"cp\" #>  @ mediator_predictors: chr [1:2] \"X\" \"C\" #>  @ outcome_predictors : chr [1:3] \"M\" \"X\" \"C\" #>  @ a_path             : num 0.367 #>  @ b_path             : num 0.343 #>  @ c_prime            : num 0.173 #>  @ vcov               : num [1:3, 1:3] 1.07e-02 -7.19e-19 -8.53e-19 -1.36e-18 1.21e-02 ... #>  .. - attr(*, \"dimnames\")=List of 2 #>  ..  ..$ : chr [1:3] \"a\" \"b\" \"cp\" #>  ..  ..$ : chr [1:3] \"a\" \"b\" \"cp\" #>  @ sigma_m            : num 0.937 #>  @ sigma_y            : num 1.03 #>  @ data               :'data.frame':\t100 obs. of  4 variables: #>  .. $ M: num  1.705 1.274 0.44 0.474 -0.635 ... #>  .. $ Y: num  -0.145 -0.289 -0.451 -0.849 -0.665 ... #>  .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. $ C: num  -0.71 0.257 -0.247 -0.348 -0.952 ... #>  @ n_obs              : int 100 #>  @ source_package     : chr \"lavaan\" #>  @ converged          : logi TRUE #>  @ treatment          : chr \"X\" #>  @ mediator           : chr \"M\" #>  @ outcome            : chr \"Y\"  # Example 3: Extract from mediate object if (requireNamespace(\"mediation\", quietly = TRUE)) {   library(mediation)   med_out <- mediation::mediate(model_m, model_y,                                  treat = \"X\", mediator = \"M\", boot = FALSE)   extract <- extract_mediation(med_out)   print(extract) } #> Loading required package: MASS #> Loading required package: Matrix #> Loading required package: mvtnorm #> Loading required package: sandwich #> mediation: Causal Mediation Analysis #> Version: 4.5.1 #> <probmed::MediationExtract> #>  @ estimates          : Named num [1:7] 0.1351 0.3668 0.3238 -0.0193 0.3426 ... #>  .. - attr(*, \"names\")= chr [1:7] \"(Intercept)\" \"X\" \"C\" \"(Intercept)\" ... #>  @ mediator_predictors: chr [1:3] \"(Intercept)\" \"X\" \"C\" #>  @ outcome_predictors : chr [1:4] \"(Intercept)\" \"M\" \"X\" \"C\" #>  @ a_path             : num 0.367 #>  @ b_path             : num 0.343 #>  @ c_prime            : num 0.173 #>  @ vcov               : num [1:7, 1:7] 0.009243 -0.000939 0.001007 0 0 ... #>  @ sigma_m            : num 0.951 #>  @ sigma_y            : num 1.05 #>  @ data               :'data.frame':\t100 obs. of  3 variables: #>  .. $ M: num  1.705 1.274 0.44 0.474 -0.635 ... #>  .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. $ C: num  -0.71 0.257 -0.247 -0.348 -0.952 ... #>  .. - attr(*, \"terms\")=Classes 'terms', 'formula'  language M ~ X + C #>  ..  .. ..- attr(*, \"variables\")= language list(M, X, C) #>  ..  .. ..- attr(*, \"factors\")= int [1:3, 1:2] 0 1 0 0 0 1 #>  ..  .. .. ..- attr(*, \"dimnames\")=List of 2 #>  ..  .. .. .. ..$ : chr [1:3] \"M\" \"X\" \"C\" #>  ..  .. .. .. ..$ : chr [1:2] \"X\" \"C\" #>  ..  .. ..- attr(*, \"term.labels\")= chr [1:2] \"X\" \"C\" #>  ..  .. ..- attr(*, \"order\")= int [1:2] 1 1 #>  ..  .. ..- attr(*, \"intercept\")= int 1 #>  ..  .. ..- attr(*, \"response\")= int 1 #>  ..  .. ..- attr(*, \".Environment\")=<environment: 0xb455e7188>  #>  ..  .. ..- attr(*, \"predvars\")= language list(M, X, C) #>  ..  .. ..- attr(*, \"dataClasses\")= Named chr [1:3] \"numeric\" \"numeric\" \"numeric\" #>  ..  .. .. ..- attr(*, \"names\")= chr [1:3] \"M\" \"X\" \"C\" #>  @ n_obs              : int 100 #>  @ source_package     : chr \"stats\" #>  @ converged          : logi TRUE #>  @ treatment          : chr \"X\" #>  @ mediator           : chr \"M\" #>  @ outcome            : chr \"Y\" # }"},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation_lavaan.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","title":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","text":"Extract mediation structure SEM models fitted lavaan package. Supports models fitted sem(), cfa(), lavaan().","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation_lavaan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","text":"","code":"extract_mediation_lavaan(   object,   treatment,   mediator,   outcome = NULL,   standardized = FALSE,   ... )"},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation_lavaan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","text":"object fitted lavaan object. treatment Character: name treatment variable. mediator Character: name mediator variable. outcome Character: name outcome variable. NULL, function attempts detect automatically. standardized Logical: whether use standardized estimates. Default FALSE. ... Additional arguments (currently unused).","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation_lavaan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","text":"MediationExtract object.","code":""},{"path":"https://data-wise.github.io/probmed/reference/extract_mediation_lavaan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure from lavaan Objects — extract_mediation_lavaan","text":"","code":"if (FALSE) { # \\dontrun{ if (requireNamespace(\"lavaan\", quietly = TRUE)) {     library(lavaan)      # Define model     model <- \"     M ~ a*X     Y ~ b*M + cp*X   \"      # Simulate data     X <- rnorm(100)     M <- 0.5 * X + rnorm(100)     Y <- 0.4 * M + 0.2 * X + rnorm(100)     data <- data.frame(X = X, M = M, Y = Y)      # Fit model     fit <- sem(model, data = data)      # Extract     extract <- extract_mediation(fit, treatment = \"X\", mediator = \"M\")      # Compute P_med     pmed(extract) } } # }"},{"path":"https://data-wise.github.io/probmed/reference/lm_class.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 Class Wrappers for S7 — lm_class","title":"S3 Class Wrappers for S7 — lm_class","text":"S7 wrappers S3 classes used method dispatch","code":""},{"path":"https://data-wise.github.io/probmed/reference/lm_class.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 Class Wrappers for S7 — lm_class","text":"","code":"lm_class"},{"path":"https://data-wise.github.io/probmed/reference/lm_class.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"S3 Class Wrappers for S7 — lm_class","text":"object class S7_S3_class length 3.","code":""},{"path":"https://data-wise.github.io/probmed/reference/null-coalesce.html","id":null,"dir":"Reference","previous_headings":"","what":"Null coalescing operator — null-coalesce","title":"Null coalescing operator — null-coalesce","text":"Null coalescing operator","code":""},{"path":"https://data-wise.github.io/probmed/reference/null-coalesce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Null coalescing operator — null-coalesce","text":"","code":"x %||% y"},{"path":"https://data-wise.github.io/probmed/reference/plot-PmedResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Bootstrap Distribution — plot-PmedResult","title":"Plot Bootstrap Distribution — plot-PmedResult","text":"Plot Bootstrap Distribution","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed-MediationExtract.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute P_med from MediationExtract — pmed-MediationExtract","title":"Compute P_med from MediationExtract — pmed-MediationExtract","text":"Compute P_med MediationExtract","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed-formula.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute P_med from Formula — pmed-formula","title":"Compute P_med from Formula — pmed-formula","text":"Compute P_med Formula","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed-formula.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute P_med from Formula — pmed-formula","text":"object Formula outcome model (Y ~ X + M + C) formula_m Formula mediator model (M ~ X + C) data Data frame treatment Character: treatment variable name mediator Character: mediator variable name family_y Family outcome model (default: gaussian()) family_m Family mediator model (default: gaussian()) x_ref Reference treatment value (default: 0) x_value Treatment value (default: 1) method Inference method: \"parametric_bootstrap\", \"nonparametric_bootstrap\", \"plugin\" n_boot Number bootstrap samples (default: 1000) ci_level Confidence level (default: 0.95) seed Random seed reproducibility ... Additional arguments","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed-formula.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute P_med from Formula — pmed-formula","text":"PmedResult object","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed-formula.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute P_med from Formula — pmed-formula","text":"","code":"# Toy example: Simple mediation model # Generate data where X affects Y through M set.seed(123) n <- 100 data <- data.frame(   X = rnorm(n),   C = rnorm(n) ) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n, sd = 0.5) data$Y <- 0.4 * data$M + 0.2 * data$X + 0.2 * data$C + rnorm(n, sd = 0.5)  # Compute P_med using plugin estimator (fast, no CI) result_plugin <- pmed(   Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"plugin\" ) print(result_plugin) #> <probmed::PmedResult> #>  @ estimate         : num 0.391 #>  @ ci_lower         : num NA #>  @ ci_upper         : num NA #>  @ ci_level         : num NA #>  @ method           : chr \"plugin\" #>  @ n_boot           : int NA #>  @ boot_estimates   : num(0)  #>  @ ie_estimate      : num 0.148 #>  @ ie_ci_lower      : num NA #>  @ ie_ci_upper      : num NA #>  @ ie_boot_estimates: num(0)  #>  @ x_ref            : num 0 #>  @ x_value          : num 1 #>  @ source_extract   : <probmed::MediationExtract> #>  .. @ estimates          : Named num [1:7] 0.06753 0.43341 0.31191 -0.00966 0.20097 ... #>  .. .. - attr(*, \"names\")= chr [1:7] \"(Intercept)\" \"X\" \"C\" \"(Intercept)\" ... #>  .. @ mediator_predictors: chr [1:3] \"(Intercept)\" \"X\" \"C\" #>  .. @ outcome_predictors : chr [1:4] \"(Intercept)\" \"X\" \"M\" \"C\" #>  .. @ a_path             : num 0.433 #>  .. @ b_path             : num 0.343 #>  .. @ c_prime            : num 0.201 #>  .. @ vcov               : num [1:7, 1:7] 0.002311 -0.000235 0.000252 0 0 ... #>  .. @ sigma_m            : num 0.476 #>  .. @ sigma_y            : num 0.526 #>  .. @ data               :'data.frame':\t100 obs. of  4 variables: #>  .. .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. .. $ C: num  -0.71 0.257 -0.247 -0.348 -0.952 ... #>  .. .. $ M: num  0.606 0.618 0.573 0.203 -0.428 ... #>  .. .. $ Y: num  -0.3694 -0.1237 0.0222 -0.5006 -0.5543 ... #>  .. @ n_obs              : int 100 #>  .. @ source_package     : chr \"stats\" #>  .. @ converged          : logi TRUE #>  .. @ treatment          : chr \"X\" #>  .. @ mediator           : chr \"M\" #>  .. @ outcome            : chr \"Y\" #>  @ converged        : logi TRUE #>  @ call             : language `method(pmed, new_S3_class(\"formula\"))`(object = Y ~ X + M + C, formula_m = ..1,      data = ..2, treatment = \"X\"| __truncated__  # \\donttest{ # With parametric bootstrap for confidence intervals result_boot <- pmed(   Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\",   n_boot = 200,  # Use more (e.g., 1000+) in practice   seed = 456 ) print(result_boot) #> <probmed::PmedResult> #>  @ estimate         : num 0.397 #>  @ ci_lower         : Named num 0.322 #>  .. - attr(*, \"names\")= chr \"2.5%\" #>  @ ci_upper         : Named num 0.462 #>  .. - attr(*, \"names\")= chr \"97.5%\" #>  @ ci_level         : num 0.95 #>  @ method           : chr \"parametric_bootstrap\" #>  @ n_boot           : int 200 #>  @ boot_estimates   : num [1:200] 0.362 0.418 0.424 0.321 0.416 ... #>  @ ie_estimate      : num 0.146 #>  @ ie_ci_lower      : Named num 0.053 #>  .. - attr(*, \"names\")= chr \"2.5%\" #>  @ ie_ci_upper      : Named num 0.242 #>  .. - attr(*, \"names\")= chr \"97.5%\" #>  @ ie_boot_estimates: num [1:200] 0.0806 0.2042 0.1909 0.112 0.0958 ... #>  @ x_ref            : num 0 #>  @ x_value          : num 1 #>  @ source_extract   : <probmed::MediationExtract> #>  .. @ estimates          : Named num [1:7] 0.06753 0.43341 0.31191 -0.00966 0.20097 ... #>  .. .. - attr(*, \"names\")= chr [1:7] \"(Intercept)\" \"X\" \"C\" \"(Intercept)\" ... #>  .. @ mediator_predictors: chr [1:3] \"(Intercept)\" \"X\" \"C\" #>  .. @ outcome_predictors : chr [1:4] \"(Intercept)\" \"X\" \"M\" \"C\" #>  .. @ a_path             : num 0.433 #>  .. @ b_path             : num 0.343 #>  .. @ c_prime            : num 0.201 #>  .. @ vcov               : num [1:7, 1:7] 0.002311 -0.000235 0.000252 0 0 ... #>  .. @ sigma_m            : num 0.476 #>  .. @ sigma_y            : num 0.526 #>  .. @ data               :'data.frame':\t100 obs. of  4 variables: #>  .. .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. .. $ C: num  -0.71 0.257 -0.247 -0.348 -0.952 ... #>  .. .. $ M: num  0.606 0.618 0.573 0.203 -0.428 ... #>  .. .. $ Y: num  -0.3694 -0.1237 0.0222 -0.5006 -0.5543 ... #>  .. @ n_obs              : int 100 #>  .. @ source_package     : chr \"stats\" #>  .. @ converged          : logi TRUE #>  .. @ treatment          : chr \"X\" #>  .. @ mediator           : chr \"M\" #>  .. @ outcome            : chr \"Y\" #>  @ converged        : logi TRUE #>  @ call             : language `method(pmed, new_S3_class(\"formula\"))`(object = Y ~ X + M + C, formula_m = ..1,      data = ..2, treatment = \"X\"| __truncated__ ... # }"},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"Compute \\(P_{med}\\), scale-free probabilistic effect size mediation analysis, along traditional Indirect Effect (\\(\\times b\\)). Provides point estimates bootstrap confidence intervals. \\(P_{med}\\) represents \\(P(Y_{x^*, M_x} > Y_{x, M_x})\\), probability counterfactual outcome control mediator treated level exceeds outcome treatment.","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"","code":"pmed(object, ...)"},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"object Either: formula outcome model (common) MediationExtract object extract_mediation() ... Additional arguments passed methods (see method documentation)","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"PmedResult object containing: estimate: P_med point estimate ci_lower, ci_upper: Confidence interval bounds ie_estimate: Indirect Effect point estimate ie_ci_lower, ie_ci_upper: IE confidence interval boot_estimates: Bootstrap distribution (applicable) method: Inference method used","code":""},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"Available inference methods via method argument: \"parametric_bootstrap\" (default): Fast, assumes normality \"nonparametric_bootstrap\": Robust assumptions, slower \"plugin\": Point estimate , CI","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/reference/pmed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute P_med: Probabilistic Effect Size for Mediation — pmed","text":"","code":"# Basic example with formula interface set.seed(123) n <- 200 data <- data.frame(X = rnorm(n), C = rnorm(n)) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n) data$Y <- 0.4 * data$M + 0.2 * data$X + 0.2 * data$C + rnorm(n)  # Compute with parametric bootstrap result <- pmed(   Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\",   n_boot = 500 ) print(result) #> <probmed::PmedResult> #>  @ estimate         : num 0.463 #>  @ ci_lower         : Named num 0.42 #>  .. - attr(*, \"names\")= chr \"2.5%\" #>  @ ci_upper         : Named num 0.511 #>  .. - attr(*, \"names\")= chr \"97.5%\" #>  @ ci_level         : num 0.95 #>  @ method           : chr \"parametric_bootstrap\" #>  @ n_boot           : int 500 #>  @ boot_estimates   : num [1:500] 0.479 0.452 0.5 0.485 0.457 ... #>  @ ie_estimate      : num 0.204 #>  @ ie_ci_lower      : Named num 0.122 #>  .. - attr(*, \"names\")= chr \"2.5%\" #>  @ ie_ci_upper      : Named num 0.315 #>  .. - attr(*, \"names\")= chr \"97.5%\" #>  @ ie_boot_estimates: num [1:500] 0.159 0.158 0.213 0.289 0.276 ... #>  @ x_ref            : num 0 #>  @ x_value          : num 1 #>  @ source_extract   : <probmed::MediationExtract> #>  .. @ estimates          : Named num [1:7] 0.0336 0.4676 0.2493 -0.027 0.1347 ... #>  .. .. - attr(*, \"names\")= chr [1:7] \"(Intercept)\" \"X\" \"C\" \"(Intercept)\" ... #>  .. @ mediator_predictors: chr [1:3] \"(Intercept)\" \"X\" \"C\" #>  .. @ outcome_predictors : chr [1:4] \"(Intercept)\" \"X\" \"M\" \"C\" #>  .. @ a_path             : num 0.468 #>  .. @ b_path             : num 0.437 #>  .. @ c_prime            : num 0.135 #>  .. @ vcov               : num [1:7, 1:7] 4.69e-03 3.95e-05 -1.99e-04 0.00 0.00 ... #>  .. @ sigma_m            : num 0.968 #>  .. @ sigma_y            : num 1.03 #>  .. @ data               :'data.frame':\t200 obs. of  4 variables: #>  .. .. $ X: num  -0.5605 -0.2302 1.5587 0.0705 0.1293 ... #>  .. .. $ C: num  2.199 1.312 -0.265 0.543 -0.414 ... #>  .. .. $ M: num  0.3058 -0.89 0.0651 0.1694 0.611 ... #>  .. .. $ Y: num  1.524 -0.167 0.251 -1.326 0.978 ... #>  .. @ n_obs              : int 200 #>  .. @ source_package     : chr \"stats\" #>  .. @ converged          : logi TRUE #>  .. @ treatment          : chr \"X\" #>  .. @ mediator           : chr \"M\" #>  .. @ outcome            : chr \"Y\" #>  @ converged        : logi TRUE #>  @ call             : language `method(pmed, new_S3_class(\"formula\"))`(object = Y ~ X + M + C, formula_m = ..1,      data = ..2, treatment = \"X\"| __truncated__ ...  if (FALSE) { # \\dontrun{ # View bootstrap distribution summary(result) plot(result) } # }"},{"path":"https://data-wise.github.io/probmed/reference/print-PmedResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Print PmedResult — print-PmedResult","title":"Print PmedResult — print-PmedResult","text":"Print PmedResult","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":null,"dir":"Reference","previous_headings":"","what":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"Compute P_med, scale-free probabilistic effect size causal mediation analysis. Compute P_med, scale-free probabilistic effect size causal mediation analysis. P_med = P(Y_{x*,M_x} > Y_{x,M_x}) represents probability outcome treatment mediator control level exceeds outcome control. probmed package provides robust framework computing \\(P_{med}\\), scale-free probabilistic effect size causal mediation analysis. Unlike traditional effect sizes, \\(P_{med}\\) quantifies probability counterfactual outcome treatment mediator control level exceeds counterfactual outcome control.","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"key-features","dir":"Reference","previous_headings":"","what":"Key Features","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"Scale-free interpretation: \\(P_{med} \\[0, 1]\\) clear probabilistic meaning regardless variable scales Flexible estimation: Works GLMs, SEM (via lavaan), fitted models Comprehensive reporting: Provides \\(P_{med}\\) traditional Indirect Effect (\\(\\times b\\)) bootstrap confidence intervals Multiple mediators: Supports parallel mediation structures Bootstrap inference: Parametric nonparametric bootstrap confidence intervals S7 OOP architecture: Modern, type-safe object system extensibility","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"pmed: Compute \\(P_{med}\\) formulas extracted objects extract_mediation: Extract mediation structure fitted models","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"supported-model-types","dir":"Reference","previous_headings":"","what":"Supported Model Types","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"lm/glm: Native support linear generalized linear models lavaan: Structural Equation Models FIML robust estimators mediation: Direct integration mediate() objects","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"getting-started","dir":"Reference","previous_headings":"","what":"Getting Started","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"basic workflow involves three steps: Specify mediation model (outcome mediator formulas) Choose inference method (parametric bootstrap recommended) Interpret results (\\(P_{med}\\) Indirect Effect)","code":"# Example workflow library(probmed)  # Generate example data set.seed(123) n <- 200 data <- data.frame(X = rnorm(n), C = rnorm(n)) data$M <- 0.5 * data$X + 0.3 * data$C + rnorm(n) data$Y <- 0.4 * data$M + 0.2 * data$X + 0.2 * data$C + rnorm(n)  # Compute P_med with bootstrap CI result <- pmed(   Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   method = \"parametric_bootstrap\",   n_boot = 1000 )  print(result)"},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"learn-more","dir":"Reference","previous_headings":"","what":"Learn More","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"Package Website vignette(\"introduction\", package = \"probmed\") vignette(\"lavaan-integration\", package = \"probmed\") vignette(\"mediation-integration\", package = \"probmed\")","code":""},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"Tofighi, D., et al. (Press). Probabilistic Effect Sizes Mediation Analysis. Imai, K., Keele, L., & Tingley, D. (2010). general approach causal mediation analysis. Psychological Methods, 15(4), 309-334. MacKinnon, D. P. (2008). Introduction Statistical Mediation Analysis. Lawrence Erlbaum Associates.","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/reference/probmed-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"probmed: Probabilistic Effect Sizes for Causal Mediation Analysis — probmed-package","text":"Maintainer: Davood Tofighi dtofighi@gmail.com (ORCID)","code":""},{"path":"https://data-wise.github.io/probmed/reference/summary-PmedResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Method — summary-PmedResult","title":"Summary Method — summary-PmedResult","text":"Summary Method","code":""},{"path":[]},{"path":"https://data-wise.github.io/probmed/news/index.html","id":"major-changes-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"Major Changes","title":"probmed 0.0.0.9000","text":"S7 Architecture: package refactored use S7 object-oriented system robust class definitions method dispatch. Website Redesign: documentation website now uses litera theme clean, academic design matching rmediation package style. Quarto Integration: package now uses Quarto (.qmd) README vignettes, providing modern publishing capabilities.","code":""},{"path":"https://data-wise.github.io/probmed/news/index.html","id":"new-features-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"New Features","title":"probmed 0.0.0.9000","text":"PmedP_{med} Calculation: Implemented pmed() function compute probabilistic effect size PmedP_{med} mediation analysis. GLM Support: Added support Generalized Linear Models (e.g., logistic regression) mediator outcome. Bootstrap Inference: Added parametric nonparametric bootstrap methods confidence intervals. lavaan Integration: Added extract_mediation() support SEM models fitted lavaan package, including FIML robust estimators. mediation Integration: Added support extracting mediation structures directly mediation::mediate() objects. Indirect Effect Reporting: pmed() now reports Indirect Effect (product coefficients) alongside PmedP_{med}, including bootstrap confidence intervals.","code":""},{"path":"https://data-wise.github.io/probmed/news/index.html","id":"documentation-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"Documentation","title":"probmed 0.0.0.9000","text":"Expanded README: Added detailed explanation PmedP_{med}, features, examples. New Vignette: Added “Introduction probmed” vignette demonstrating linear binary outcome examples. Integration Vignettes: Added dedicated vignettes lavaan mediation package integrations. Comparison Vignette: Added “Comparing probmed Workflows” guide users choosing best integration method.","code":""}]
